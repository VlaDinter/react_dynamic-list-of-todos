(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(5),o=n.n(c),s=n(1),u=function(){return r.a.createElement("h1",{className:"app__header"},"Dynamic list of TODOs")},l=function(e){var t=e.todo;return r.a.createElement("li",{className:"app__item"},r.a.createElement("h1",{className:"app__item-header"},t.title),r.a.createElement("p",{className:"app__item-text"},t.completed?"completed":"uncompleted"),r.a.createElement("p",{className:"app__item-name"},t.user?t.user.name:"none"))},i=function(e){var t=e.todos;return r.a.createElement("ul",{className:"app__list"},t.map((function(e){return r.a.createElement(l,{key:e.id,todo:e})})))},m=function(e){var t=e.todos,n=Object(a.useState)("title"),c=Object(s.a)(n,2),o=c[0],u=c[1];switch(o){case"title":t.sort((function(e,t){return e.title.localeCompare(t.title)}));break;case"completed":t.sort((function(e){return e.completed?1:-1}));break;case"name":t.sort((function(e,t){return e.user&&t.user?e.user.name.localeCompare(t.user.name):1}));break;default:t.sort((function(e,t){return e.title.localeCompare(t.title)}))}return r.a.createElement("div",{className:"app__view"},r.a.createElement("button",{className:"app__view-button",type:"button",onClick:function(){return u("title")}},"Sort by title"),r.a.createElement("button",{className:"app__view-button",type:"button",onClick:function(){return u("completed")}},"Sort by completed"),r.a.createElement("button",{className:"app__view-button",type:"button",onClick:function(){return u("name")}},"Sort by name"),r.a.createElement(i,{todos:t}))},p=function(){return r.a.createElement("p",{className:"app__error"},"Try again")},d=n(2),f=n.n(d),b=n(3),_=n(6),E=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.data}))},h=function(e){var t=e.setTodos,n=e.setIsLoadingError,c=Object(a.useState)(!1),o=Object(s.a)(c,2),u=o[0],l=o[1],i=function(){var e=Object(_.a)(f.a.mark((function e(){var a,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!1),l(!0),a=[],r=[],e.prev=4,e.next=7,E("https://mate.academy/students-api/users");case 7:a=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),n(!0),l(!1);case 14:return e.prev=14,e.next=17,E("https://mate.academy/students-api/todos");case 17:r=e.sent,e.next=24;break;case 20:e.prev=20,e.t1=e.catch(14),n(!0),l(!1);case 24:a.length>0&&r.length>0&&t(r.map((function(e){return Object(b.a)(Object(b.a)({},e),{},{user:a.find((function(t){return t.id===e.userId}))})})));case 25:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("button",{type:"button",disabled:u,onClick:i},u?"Loading...":"Load")},v=(n(13),function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(!1),l=Object(s.a)(o,2),i=l[0],d=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),n.length>0&&r.a.createElement(m,{todos:n}),i&&r.a.createElement(p,null),0===n.length&&r.a.createElement(h,{setTodos:c,setIsLoadingError:d}))});o.a.render(r.a.createElement(v,null),document.getElementById("root"))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.500492e6.chunk.js.map