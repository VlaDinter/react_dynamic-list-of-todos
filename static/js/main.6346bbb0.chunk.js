(this["webpackJsonpreact_dynamic-list-of-todos"]=this["webpackJsonpreact_dynamic-list-of-todos"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),o=a.n(c),s=a(1),u=function(){return r.a.createElement("h1",{className:"app__header"},"Dynamic list of TODOs")},l=function(e){var t=e.todo;return r.a.createElement("li",{className:"app__item"},r.a.createElement("h1",{className:"app__item-header"},t.title),r.a.createElement("p",{className:"app__item-text"},t.completed?"completed":"uncompleted"),r.a.createElement("p",{className:"app__item-name"},t.user?t.user.name:"none"))},i=function(e){var t=e.todos;return r.a.createElement("ul",{className:"app__list"},t.map((function(e){return r.a.createElement(l,{key:e.id,todo:e})})))},m=function(e){var t=e.todos,a=Object(n.useState)("title"),c=Object(s.a)(a,2),o=c[0],u=c[1];switch(o){case"title":t.sort((function(e,t){return e.title.localeCompare(t.title)}));break;case"completed":t.sort((function(e){return e.completed?1:-1}));break;case"name":t.sort((function(e,t){return e.user&&t.user?e.user.name.localeCompare(t.user.name):1}));break;default:t.sort((function(e,t){return e.title.localeCompare(t.title)}))}return r.a.createElement("div",{className:"app__view"},r.a.createElement("button",{className:"app__view-button",type:"button",onClick:function(){return u("title")}},"Sort by title"),r.a.createElement("button",{className:"app__view-button",type:"button",onClick:function(){return u("completed")}},"Sort by completed"),r.a.createElement("button",{className:"app__view-button",type:"button",onClick:function(){return u("name")}},"Sort by name"),r.a.createElement(i,{todos:t}))},p=function(){return r.a.createElement("p",{className:"app__error"},"Try again")},d=a(2),b=a.n(d),f=a(3),_=a(6),E=function(e){return fetch(e).then((function(e){return e.json()})).then((function(e){return e.data}))},h=function(e){var t=e.setTodos,a=e.setIsLoaded,c=e.setIsLoadingError,o=Object(n.useState)(!1),u=Object(s.a)(o,2),l=u[0],i=u[1],m=function(){var e=Object(_.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!1),i(!0),n=[],r=[],e.prev=4,e.next=7,E("https://mate.academy/students-api/users");case 7:n=e.sent,e.next=14;break;case 10:e.prev=10,e.t0=e.catch(4),c(!0),i(!1);case 14:return e.prev=14,e.next=17,E("https://mate.academy/students-api/todos");case 17:r=e.sent,e.next=24;break;case 20:e.prev=20,e.t1=e.catch(14),c(!0),i(!1);case 24:n.length>0&&r.length>0&&(t(r.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{user:n.find((function(t){return t.id===e.userId}))})}))),a(!0));case 25:case"end":return e.stop()}}),e,null,[[4,10],[14,20]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("button",{type:"button",disabled:l,onClick:m},l?"Loading...":"Load")},v=(a(13),function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(s.a)(o,2),i=l[0],d=l[1],b=Object(n.useState)(!1),f=Object(s.a)(b,2),_=f[0],E=f[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(u,null),_&&r.a.createElement(m,{todos:a}),i&&r.a.createElement(p,null),!_&&r.a.createElement(h,{setTodos:c,setIsLoaded:E,setIsLoadingError:d}))});o.a.render(r.a.createElement(v,null),document.getElementById("root"))},7:function(e,t,a){e.exports=a(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.6346bbb0.chunk.js.map